create table userinfo(
	ui_id varchar(512) primary key,
	ui_pw varchar(521),
	ui_name varchar(512),
	ui_guild varchar(512),
	ui_phone varchar(512),
	ui_email varchar(512),
	ui_level int,
	ui_photo varchar(512),
	ui_salt1 varchar(512),
	ui_salt2 varchar(512),
	ui_comment varchar(512)
);
create table admin(
	ui_id varchar(512) references userinfo(ui_id)
);
create table superadmin(
	ui_id varchar(512) references userinfo(ui_id)
);
create table friend(
	ui_id1 varchar(512) references userinfo(ui_id),
	ui_id2 varchar(512) references userinfo(ui_id)
);
create table problem(
	pr_path varchar(260) primary key,
	pr_title varchar(128),
	pr_level varchar(16),
	pr_group varchar(128),
	pr_subgroup varchar(128),
	pr_timelimit varchar(128),
	pr_memlimit varchar(128)
);
create table userinfo_problem(
	pr_path varchar(512) references problem(pr_path),
	ui_id varchar(512) references userinfo(ui_id),
	uip_language varchar(512),
	uip_time varchar(512),
	uip_status text,
	uip_date varchar(512),
	uip_srcpath varchar(512),
	primary key(uip_srcpath,uip_date)
);

create table userlog(
	ui_id varchar(512) references userinfo(ui_id),
	ul_date varchar(512),
	ul_ip varchar(512),
	ul_env varchar(512)
);
create table notice(
	nt_date varchar(512),
	nt_title text,
	nt_content text,
	primary key(nt_title)
);
create table notice_comment(
	nc_date varchar(512) primary key,
	nt_title text references notice(nt_title),
	ui_id varchar(512) references userinfo(ui_id),
	nc_comment text
);
create table question(
	ui_id varchar(512) references userinfo(ui_id),
	qe_title text primary key,
	qe_content text,
	qe_date varchar(512),
	qe_watch boolean,
	qe_answer text
);
create table favorite(
	ui_id varchar(512) references userinfo(ui_id),
	fa_title varchar(512),
	fa_link text
);